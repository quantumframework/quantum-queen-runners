---
- hosts: "{{ UM_RUNNERS_GRP|default('runners') }}"
  tasks:
  - name: "installed IUS repository"
    yum:
      state: present
      name: https://centos7.iuscommunity.org/ius-release.rpm

  - name: "installed Python 3"
    vars:
      packages:
      - python36u
      - python36u-libs
      - python36u-devel
      - python36u-pip
      - python36u-setuptools
    yum:
      update_cache: true
      state: absent
      name: "{{ packages }}"

  - name: "installed Python 3"
    vars:
      packages:
      - python36
      - python36-libs
      - python36-devel
      - python36-pip
      - python36-setuptools
    yum:
      update_cache: true
      state: present
      name: "{{ packages }}"

  - name: install common dependencies
    with_items:
    - lxml==4.3.4
    - requests==2.22.0
    - quantum-queen==1.0.3
    - openshift==0.8.1
    pip:
      state: present
      name: "{{ item }}"
